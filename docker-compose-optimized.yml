version: '3.8'

services:
  jupyter-medimproc:
    ## Optimized v2 image with Phase 2 cleanups (20.1 GB)
    image: jupyter-medimproc:optimized-v2
    ports:
      - "8888:8888"
    environment:
      - DY_SIDECAR_PATH_INPUTS=/tmp/inputs
      - DY_SIDECAR_PATH_OUTPUTS=/tmp/outputs
      - DY_SIDECAR_PATH_WORKSPACE=/home/jovyan/work/workspace
      - DY_BOOT_OPTION_BOOT_MODE=0
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ${PWD}/tests:/home/jovyan/work/workspace
      - ${PWD}/validation/inputs:/tmp/inputs
      - ${PWD}/validation/outputs:/tmp/outputs
